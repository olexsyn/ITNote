# Добавление вашего SSH-ключа в ssh-agent

Запустите ssh-agent в фоновом режиме.

{% include cmdout.htm cmd='$ eval "$(ssh-agent -s)"' out="> Agent pid 59566" %} 

Добавьте свой закрытый ключ SSH в ssh-agent. Если вы создали свой ключ с другим именем, или если вы добавляете существующий ключ с другим именем, замените в команде id_rsa именем вашего файла закрытого ключа.

{% include cmd.htm cmd="$ ssh-add ~/.ssh/id_rsa" %} 

Если вы хотите избежать необходимости вводить вашу парольную фразу каждый раз, вы можете использовать ее **ssh-agent** для хранения учетных данных парольной фразы личного ключа один раз за сеанс терминала:

    $ eval "ssh-agent -s"
    $ ssh-add

ssh-add ищет в вашей домашней .ssh папке закрытый ключ по умолчанию **id_rsa**, но вы можете передать путь к файлу с другим именем.

{% include cmd.htm cmd="$ ssh-add ~/.ssh/id_rsa" %} 

{% include cmd.htm cmd="$ ssh-add ~/.ssh/id_rsa" %} 


Убить агента

Когда вы закончите сеанс терминала, вы можете завершить работу ssh-agentс флагом kill -k:

$ ssh-agent -k

Как объяснено в ssh-agentруководстве :

    -k

    Убить текущего агента (заданного переменной среды SSH_AGENT_PID).

Дополнительный тайм-аут

Кроме того, он может принимать необязательный параметр времени ожидания, например, так:

$ ssh-add -t <timeout>

где <timeout>имеет формат <n>hдля <n>часов, в <n>mтечение <n>минут, и так далее.

Согласно ssh-agentинструкции :

    -t life

    Установите значение по умолчанию для максимального времени жизни идентификаторов, добавляемых к агенту. Время жизни может быть указано в секундах или в формате времени, указанном в sshd_config (5) . Время жизни, указанное для идентификатора с помощью ssh-add (1), переопределяет это значение. Без этой опции максимальное время жизни по умолчанию - навсегда.
